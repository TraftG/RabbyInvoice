import{_ as B,h,j,o as N,b as m,c as v,d as o,e as V,k as W,t as E,f as w}from"./main-DmqmlGfb.js";const G={class:"casino-wheel-page"},q={class:"casino-wheel-container"},z=["disabled"],F={key:0,class:"casino-result"},L={key:1,class:"casino-info"},H={__name:"SpinPage",setup(J){const d=h(null),u=h(null),M=j(),S=[{image:"../assets/pp.jpg",label:"1000 RABI$"},{image:"../assets/morkov1.png",label:"10000 CARO$"},{image:"../assets/pp.jpg",label:"500 RABI$"},{image:"../assets/morkov1.png",label:"2000 CARO$"},{image:"../assets/pp.jpg",label:"3000 RABI$"},{image:"../assets/morkov1.png",label:"5000 CARO$"}],b=360/S.length;let p=0,r=!1,_=null,P=5e3,y=0;const l=h(!1);N(()=>{T(),O()});function R(){M.addCarrot(1e3)}function T(){const a=d.value;a.width=300,a.height=300;const e=a.getContext("2d"),t=a.width/2,n=10;e.lineWidth=n,e.strokeStyle="#d32f2f",e.beginPath(),e.arc(t,t,t-n/2,0,2*Math.PI),e.stroke(),S.forEach((i,s)=>{const c=s*b*Math.PI/180,f=(s+1)*b*Math.PI/180,g=e.createLinearGradient(t,0,t,a.height);g.addColorStop(0,A(s,0)),g.addColorStop(1,A(s,1)),e.beginPath(),e.moveTo(t,t),e.arc(t,t,t-n,c,f),e.fillStyle=g,e.fill(),e.stroke(),e.save(),e.translate(t,t),e.rotate((c+f)/2),e.textAlign="right",e.fillStyle="#fff",e.font="13px Arial",e.fillText(i.label,t-24,5),e.restore()});const k=20,$=5,I=t-n/2;for(let i=0;i<k;i++){const s=i*(2*Math.PI)/k,c=t+I*Math.cos(s),f=t+I*Math.sin(s);e.beginPath(),e.arc(c,f,$,0,2*Math.PI),e.fillStyle="#ffd740",e.fill()}}function A(a,e){const t=[["#ffb74d","#ff9800"],["#4caf50","#388e3c"],["#ff5252","#d32f2f"],["#ffd740","#ffab00"],["#64b5f6","#1976d2"],["#e57373","#d32f2f"]];return t[a%t.length][e]}function D(){r||l.value||(R(),r=!0,_=performance.now(),y=Math.floor(Math.random()*360+3600),C())}function C(){const a=d.value,e=performance.now()-_,t=Math.min(e/P,1),n=p+(y-p)*t;a.style.transform=`rotate(${n}deg)`,t<1?requestAnimationFrame(C):(p=n%360,x())}function x(){u.value="1000 CARO",r=!1,l.value=!0,localStorage.setItem("lastSpinDate",new Date().toISOString())}function O(){const a=localStorage.getItem("lastSpinDate");if(a){const e=new Date().toISOString().split("T")[0],t=a.split("T")[0];e===t&&(l.value=!0)}}return(a,e)=>(m(),v("div",G,[o("div",q,[e[0]||(e[0]=o("div",{class:"casino-indicator"},null,-1)),o("canvas",{ref_key:"wheelCanvas",ref:d,class:"casino-wheel"},null,512)]),o("button",{onClick:D,disabled:V(r)||l.value,class:"casino-spin-button"}," Spin ",8,z),u.value?(m(),v("div",F,[o("p",null,[e[1]||(e[1]=W("Поздравляем! Вы выиграли: ")),o("span",null,E(u.value),1)])])):w("",!0),l.value?(m(),v("div",L,e[2]||(e[2]=[o("p",null,"Вы уже играли сегодня. Попробуйте завтра!",-1)]))):w("",!0)]))}},Q=B(H,[["__scopeId","data-v-251335a8"]]);export{Q as default};
